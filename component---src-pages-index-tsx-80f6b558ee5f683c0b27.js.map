{"version":3,"file":"component---src-pages-index-tsx-80f6b558ee5f683c0b27.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/hooks/useAllPosts.ts","webpack://gatsby-starter-default/./src/components/EmptyPost/index.tsx","webpack://gatsby-starter-default/./src/components/Main/PostItem/index.tsx","webpack://gatsby-starter-default/./src/components/Main/PostList/index.tsx","webpack://gatsby-starter-default/./src/utils/query.ts","webpack://gatsby-starter-default/./src/pages/index.tsx"],"sourcesContent":["import { graphql, useStaticQuery } from 'gatsby';\nimport { GatsbyImageFluidProps } from 'gatsby-image';\n\nexport type Post = {\n  id: string;\n  slug: string;\n  frontmatter: {\n    date: string;\n    title: string;\n    description: string;\n    tags: string[];\n    thumbnail?: {\n      childImageSharp: GatsbyImageFluidProps;\n    };\n  };\n};\n\ntype AllPosts = {\n  allMdx: {\n    nodes: Post[];\n  };\n};\n\nconst useAllPosts = () => {\n  const data = useStaticQuery<AllPosts>(graphql`\n    query AllPosts {\n      allMdx(sort: { order: DESC, fields: frontmatter___date }) {\n        nodes {\n          id\n          slug\n          frontmatter {\n            date(formatString: \"YYYY.MM.DD.\")\n            title\n            description\n            tags\n            thumbnail {\n              childImageSharp {\n                fluid {\n                  ...GatsbyImageSharpFluid\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `);\n\n  return data.allMdx.nodes;\n};\n\nexport default useAllPosts;\n","import React from 'react'\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  margin-top: 40px;\n`;\n\nconst Title = styled.h1`\n  font-size: ${props => props.theme.sizes.medium};\n  text-align: center;\n  color: ${props => props.theme.colors.gray3};\n`;\n\ntype Props = {\n  searchKeyword: string;\n}\n\nconst EmptyPost = ({ searchKeyword }: Props) => {\n  return (\n    <Container>\n      <Title>{searchKeyword !== '' ? `'${searchKeyword}'에 대한 검색 결과가 없습니다` : '글이 작성되지 않았습니다'}</Title>\n    </Container>\n  )\n}\n\nexport default EmptyPost;","import React, { MouseEventHandler } from 'react';\nimport { Link } from 'gatsby';\nimport Image, { FluidObject } from 'gatsby-image';\nimport styled from 'styled-components';\nimport { Post } from '../../../hooks/useAllPosts';\nimport Tag from '../../Tag';\nimport useSiteMetaData from '../../../hooks/useSiteMetaData';\n\nconst Container = styled.article`\n  position: relative;\n  width: 360px;\n  height: 400px;\n\n  @media ${props => props.theme.device.mobile} {\n    width: 100%;\n    height: auto;\n  }\n\n  &:hover .post-item-copy-button {\n    display: inherit;\n\n    @media ${props => props.theme.device.mobile} {\n      display: none;\n    }\n  }\n\n  &:hover .post-item-thumbnail {\n    transform: scale(1.1);\n\n    @media ${props => props.theme.device.mobile} {\n      transform: none;\n    }\n  }\n`;\n\nconst CopyButton = styled.button.attrs({ className: 'post-item-copy-button' })`\n  display: none;\n  position: absolute;\n  z-index: 2;\n  top: 12px;\n  right: 12px;\n  padding: 8px 12px;\n  border: none;\n  background-color: ${props => props.theme.colors.gray1};\n  color: ${props => props.theme.colors.gray6};\n  font-size: ${props => props.theme.sizes.small};\n  border-radius: 4px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: ${props => props.theme.colors.gray2};\n  }\n`;\n\nconst ThumbnailWrapper = styled.div`\n  width: 100%;\n  height: 200px;\n  overflow: hidden;\n  border-radius: 4px;\n`;\n\ntype ThumbnailProps = {\n  fluid: FluidObject | FluidObject[];\n};\n\nconst Thumbnail = styled(Image).attrs({\n  className: 'post-item-thumbnail',\n})<ThumbnailProps>`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: all 0.25s;\n`;\n\nconst PostInfoWrapper = styled.div`\n  padding: 16px 0px;\n`;\n\nconst PostWithoutThumbnailWrapper = styled(PostInfoWrapper)`\n`;\n\nconst Tags = styled.div`\n  width: 100%;\n\n  & > * + * {\n    margin-left: 8px;\n  }\n`;\n\nconst Title = styled.h2<{\n  margin?: string;\n}>`\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: ${props => props.theme.sizes.medium};\n  font-weight: bold;\n  margin: ${props => props.margin ?? '0'};\n`;\n\nconst Description = styled.p<{\n  margin?: string;\n}>`\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  color: ${props => props.theme.colors.gray3};\n  text-overflow: ellipsis;\n  margin: ${props => props.margin ?? '0'};\n  font-size: ${props => props.theme.sizes.small};\n`;\n\nconst Date = styled.span`\n  font-size: ${props => props.theme.sizes.small};\n  color: ${props => props.theme.colors.gray4};\n`;\n\ntype Props = {\n  post: Post;\n};\n\nconst PostItem = ({ post }: Props) => {\n  const { siteUrl } = useSiteMetaData();\n\n  const handleCopyURLClick: MouseEventHandler = e => {\n    e.preventDefault();\n    navigator.clipboard.writeText(`${siteUrl}/post/${post.slug}`);\n  };\n\n  const tagItems = post.frontmatter.tags.map((tag, index) => (\n    <Tag key={index} tag={tag} />\n  ));\n\n  return (\n    <Link to={`/post/${post.slug}`}>\n      <Container>\n        <CopyButton onClick={handleCopyURLClick}>Copy URL</CopyButton>\n        {post.frontmatter.thumbnail ?\n          <>\n            <ThumbnailWrapper>\n              <Thumbnail fluid={post.frontmatter.thumbnail.childImageSharp.fluid} />\n            </ThumbnailWrapper>\n            <PostInfoWrapper>\n              <Tags>{tagItems}</Tags>\n              <Title margin='16px 0px 8px 0px'>{post.frontmatter.title}</Title>\n              <Description margin='0px 0px 8px 0px'>{post.frontmatter.description}</Description>\n              <Date>{post.frontmatter.date}</Date>\n            </PostInfoWrapper>\n          </>\n          : <PostWithoutThumbnailWrapper>\n              <Title margin='0px 0px 8px 0px'>{post.frontmatter.title}</Title>\n              <Tags>{tagItems}</Tags>\n              <Description margin='16px 0px 8px 0px'>{post.frontmatter.description}</Description>\n              <Date>{post.frontmatter.date}</Date>\n            </PostWithoutThumbnailWrapper>\n        }\n      </Container>\n    </Link>\n  );\n};\n\nexport default PostItem;\n","import React, {useEffect, useState} from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport useAllPosts, { Post } from '../../../hooks/useAllPosts';\nimport { parseQuerystring } from '../../../utils/query';\nimport EmptyPost from '../../EmptyPost';\nimport PostItem from '../PostItem';\n\nconst postFadeIn = keyframes`\n  from {\n    opacity: 0;\n    transform: translateY(80px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateY(0px);\n  }\n`;\n\nconst Container = styled.section`\n`;\n\nconst SearchContainer = styled.section`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-bottom: 40px;\n`;\n\nconst SearchInput = styled.input`\n  border: 1px solid ${props => props.theme.colors.gray2};\n  background-color: ${props => props.theme.colors.gray0};\n  border-radius: 8px;\n  height: 32px;\n  padding: 4px 8px;\n  box-sizing: border-box;\n  width: 200px;\n  outline: none;\n  color: ${props => props.theme.colors.gray6};\n\n  &:focus {\n    border-color: ${props => props.theme.colors.gray3};\n  }\n`;\n\nconst PostContainer = styled.section`\n  display: grid;\n  row-gap: 20px;\n  animation: ${postFadeIn} 1s;\n\n  grid-template-columns: repeat(3, 1fr);\n  column-gap: calc((${props => props.theme.inner.desktop} - 360px * 3) / 2);\n  @media ${props => props.theme.device.tablet} {\n    column-gap: calc(${props => props.theme.inner.tablet} - 360px * 2);\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media ${props => props.theme.device.mobile} {\n    justify-items: center;\n    grid-template-columns: repeat(1, 1fr);\n  }\n`;\n\nconst isMatchPost = (post: Post, keyword: string) => {\n  const { title, tags } = post.frontmatter;\n  if (title.toLowerCase().includes(keyword.toLowerCase())) return true;\n\n  return tags.some((tag) => tag.toLowerCase().includes(keyword.toLowerCase()));\n}\n\nconst SEARCH_KEYWORD_QUERY_KEY = 'q';\n\nconst PostList = () => {\n  const [searchKeyword, setSearchKeyword] = useState<string>('');\n  const posts = useAllPosts();\n\n  useEffect(() => {\n    const searchKeywordInQuerystring = parseQuerystring(location.search, SEARCH_KEYWORD_QUERY_KEY);\n    if (searchKeywordInQuerystring === null) return;\n\n    setSearchKeyword(searchKeywordInQuerystring);\n  }, []);\n\n  useEffect(() => {\n    // Sync querystring and searchKeyword state\n    history.pushState({}, null, `?${SEARCH_KEYWORD_QUERY_KEY}=${searchKeyword}`);\n  }, [searchKeyword])\n\n  const searchedPosts = searchKeyword !== '' ? posts.filter((post) => isMatchPost(post, searchKeyword)) : posts;\n\n  const postItems = searchedPosts.map(post => <PostItem key={post.id} post={post} />);\n\n  return (\n    <Container>\n      <SearchContainer>\n        <SearchInput placeholder='검색어를 입력하세요.' value={searchKeyword} onChange={({ target }) => setSearchKeyword(target.value)}/>\n      </SearchContainer>\n      {postItems.length > 0 ? (\n          <PostContainer>\n            {postItems}\n          </PostContainer> \n        ) : <EmptyPost searchKeyword={searchKeyword}/>}\n    </Container>\n  );\n};\n\nexport default PostList;\n","export const parseQuerystring = (search: string, key: string): string | null => {\n  const params = new URLSearchParams(search);\n\n  return params.get(key);\n}","import React from 'react';\nimport Layout from '../components/Layout';\nimport PostList from '../components/Main/PostList';\nimport useSiteMetaData from '../hooks/useSiteMetaData';\n\nconst IndexPage = () => {\n  const { description } = useSiteMetaData();\n\n  return (\n    <Layout path=\"/\" title=\"홈\" description={description}>\n      <PostList />\n    </Layout>\n  );\n};\n\nexport default IndexPage;\n"],"names":["useStaticQuery","allMdx","nodes","Container","styled","Title","props","theme","sizes","medium","colors","gray3","searchKeyword","device","mobile","CopyButton","className","gray1","gray6","small","gray2","ThumbnailWrapper","Thumbnail","Image","attrs","PostInfoWrapper","PostWithoutThumbnailWrapper","Tags","margin","Description","Date","gray4","post","siteUrl","useSiteMetaData","tagItems","frontmatter","tags","map","tag","index","Tag","key","Link","to","slug","onClick","e","preventDefault","navigator","clipboard","writeText","thumbnail","fluid","childImageSharp","title","description","date","postFadeIn","keyframes","SearchContainer","SearchInput","gray0","PostContainer","inner","desktop","tablet","useState","setSearchKeyword","posts","useAllPosts","useEffect","search","searchKeywordInQuerystring","location","URLSearchParams","get","history","pushState","postItems","filter","keyword","toLowerCase","includes","some","isMatchPost","id","placeholder","value","onChange","target","length","Layout","path"],"sourceRoot":""}